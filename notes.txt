#prepeare ide terminal
conda deactivate && source ~/.profile && graal && pwd

#to create a private network for the applications, use
docker network create demo-micro-network
#to run an application, you can choose to either use -d instead of -it for detached mode

#create docker image for demo-repo-service
cd ./demo-repo-service
docker build -t demo-repo-service .
#test the image in a container
docker container run --rm -it --name repo -p 7082:7082 -p 8445:8445 demo-repo-service:latest

#create docker image for demo-todo-service
cd ./demo-todo-service
docker build -t demo-todo-service .
#test the image in a container
docker container run --rm -it --name todo -p 7079:7079 --link repo demo-todo-service:latest

#create docker image for demo-rest-service
cd ./demo-rest-service
docker build -t demo-rest-service .
#test the image in a container
docker container run --rm -it --name rest -p 7080:7080 -p 8443:8443 --link todo -e demo-rest-service:latest

#remove these containers
docker container rm -f $(docker container ls -qa)
